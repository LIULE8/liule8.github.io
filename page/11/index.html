<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Leo's notes</title><meta name="author" content="Leo Liu"><meta name="copyright" content="Leo Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Leo&#39;s notes">
<meta property="og:url" content="https://liule8.github.io/page/11/index.html">
<meta property="og:site_name" content="Leo&#39;s notes">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://liule8.github.io/images/avatar.png">
<meta property="article:author" content="Leo Liu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://liule8.github.io/images/avatar.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://liule8.github.io/page/11/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-11-08 12:55:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/images/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">371</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">83</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">46</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Leo's notes</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Leo's notes</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/LIULE8" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:leo.liu.scau@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/post/dff9b775.html" title="Spring Boot响应式编程之响应式数据访问-Redis 集成">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式数据访问-Redis 集成"></a></div><div class="recent-post-info"><a class="article-title" href="/post/dff9b775.html" title="Spring Boot响应式编程之响应式数据访问-Redis 集成">Spring Boot响应式编程之响应式数据访问-Redis 集成</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-07T13:14:36.000Z" title="发表于 2021-10-07 13:14:36">2021-10-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">Redis 集成：如何实现对 Redis 的响应式数据访问？
Spring Data Redis Reactive 技术栈
我们可以通过导入 spring-boot-starter-data-redis-reactive 依赖来集成 Spring Data Reactive Redis 模块。与 MongoDB 不同，Redis 不提供响应式存储库，也就没有 ReactiveMongoRepository 这样的工具类可以直接使用。因此，ReactiveRedisTemplate 类成为响应式 Redis 数据访问的核心工具类。与 ReactiveMongoTemplate 和 ReactiveMongoOperations 之间的关系类似，ReactiveRedisTemplate 模板类实现了 ReactiveRedisOperations 接口定义的 API。
ReactiveRedisOperations 中定义了一批针对 Redis 各种数据结构的操作方法，如下所示。
12345678910111213141516171819public interface Reactive ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/post/56f26128.html" title="Spring Boot响应式编程之响应式数据访问-MongoDB 集成">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式数据访问-MongoDB 集成"></a></div><div class="recent-post-info"><a class="article-title" href="/post/56f26128.html" title="Spring Boot响应式编程之响应式数据访问-MongoDB 集成">Spring Boot响应式编程之响应式数据访问-MongoDB 集成</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-07T12:40:49.000Z" title="发表于 2021-10-07 12:40:49">2021-10-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">MongoDB 集成：如何在响应式应用中访问 NoSQL 数据库？
Spring Data MongoDB Reactive 技术栈
在介绍 Spring Data MongoDB Reactive 的使用方式之前，我们先来简要分析它的基本组成结构和所使用的技术栈。
显然，ReactiveMongoRepository 是开发人员所需要面对的第一个核心组件，它的定义如下所示。
12345678public interface ReactiveMongoRepository&lt;T, ID&gt; extends 		ReactiveSortingRepository&lt;T, ID&gt;, ReactiveQueryByExampleExecutor&lt;T&gt; &#123;  &lt;S extends T&gt; Mono&lt;S&gt; insert(S entity);  &lt;S extends T&gt; Flux&lt;S&gt; insert(Iterable&lt;S&gt; entities);  &lt;S extends T&gt; Flux&l ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/post/70d60696.html" title="Spring Boot响应式编程之响应式数据访问-响应式全栈">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式数据访问-响应式全栈"></a></div><div class="recent-post-info"><a class="article-title" href="/post/70d60696.html" title="Spring Boot响应式编程之响应式数据访问-响应式全栈">Spring Boot响应式编程之响应式数据访问-响应式全栈</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-07T12:14:47.000Z" title="发表于 2021-10-07 12:14:47">2021-10-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">响应式全栈：响应式编程能为数据访问过程带来什么样的变化？
全栈式响应式编程
主要讨论如何构建响应式数据访问组件，构建响应式数据访问组件的目的来自一个核心概念，即全栈式响应式编程。
所谓全栈式响应式编程，指的是响应式开发方式的有效性取决于整个请求链路的各个环节是否都采用了响应式编程模型，正如下图所展示的。

其中，如果某一个环节或步骤不是响应式的，就会出现同步阻塞，从而导致背压机制无法生效。如果某一层组件（例如数据访问层）无法采用响应式编程模型，那么响应式编程的概念对于整个请求链路的其他层而言就没有意义。在常见的 Web 服务架构中，最典型的非响应式场景就是数据访问层中使用了关系型数据库，因为传统的关系型数据库都基于非响应式的数据访问机制。
这种全栈式的响应式技术栈就需要数据访问层返回的是 Mono/Flux 流，而不是传统的实体对象。借助 Spring 家族的 Spring Data 组件，我们可以实现这一目标。
Spring Data 与数据访问抽象
Spring Data 是 Spring 家族中专门用于数据访问的开源框架，其核心理念是支持对所有存储媒介进行资源配置从而实现数据访问 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/post/775b3361.html" title="Spring Boot响应式编程之响应式 Web 服务-RSocket">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式 Web 服务-RSocket"></a></div><div class="recent-post-info"><a class="article-title" href="/post/775b3361.html" title="Spring Boot响应式编程之响应式 Web 服务-RSocket">Spring Boot响应式编程之响应式 Web 服务-RSocket</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-07T08:44:14.000Z" title="发表于 2021-10-07 08:44:14">2021-10-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">RSocket：一种新的高性能网络通信协议
RSocket 是一款全新的协议，它基于响应式数据流，为我们提供了高性能的网络通信机制。
RSocket 协议
在引入 RSocket 协议之前，我们先来讨论为什么需要这样一个协议。关于它的背景，让我从传统的请求-响应模式所存在的问题开始说起。
请求-响应模式的问题
我们知道常用的 HTTP 协议的优势在于其广泛的适用性，有非常多的服务器和客户端实现工具的支持，但 HTTP 协议本身比较简单，只支持请求-响应模式。而这种模式对于很多应用场景来说是不合适的。
典型的例子就是消息推送，以 HTTP 协议为例，如果客户端需要获取最新的推送消息，就必须使用轮询。客户端不停地发送请求到服务器来检查更新，这无疑造成了大量的资源浪费。请求-响应模式的另外一个问题是，如果某个请求的响应时间过长，会阻塞之后的其他请求的处理。
虽然服务器发送事件（Server-Sent Events，SSE）可以用来推送消息，不过，SSE 是一个简单的文本协议，仅提供有限的功能。此外，WebSocket 可以进行双向数据传输，但长连接会造成服务之间的紧密耦合，WebSocket ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/post/53058f25.html" title="JVM 核心技术-GC总结">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM 核心技术-GC总结"></a></div><div class="recent-post-info"><a class="article-title" href="/post/53058f25.html" title="JVM 核心技术-GC总结">JVM 核心技术-GC总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-06T22:33:45.000Z" title="发表于 2021-10-06 22:33:45">2021-10-06</time></span></div><div class="content">GC总结
问题

垃圾的定义是什么？（what）
为什么要GC？（why）
什么时候GC？（when）
怎样GC？（how）

垃圾的定义
在Java中，垃圾的定义即为无用的对象，也就是说一个对象实例，如果没有引用再指向它了，那就表示已经没有任何部分需要使用到它，那么它就是一个内存垃圾。这个是针对一个程序运行过程而言的，也就是JVM运行过程，在这个过程从产生的垃圾，JVM会对其进行清理。
为什么要 GC
内存资源的有限性，内存需要大家共享的使用，如果不进行GC，在程序运行过程中不断地产生对象，那么不被释放的对象始终会占着堆内存的资源，随着程序的不断进行，对象越来越多，可是堆内存的空间越来越少，直到某一个时刻，堆内存空间被这些无用的对象占满了，新的对象无处安放，就会造成内存泄漏和内存溢出。
什么时候 GC
当然这些内存垃圾不是时时刻刻都在回收的，那样太浪费时间了，当我们需要向堆内存申请空间而发现堆内存空间不足的时候，后台的监听线程就会自动触发GC算法，回收无用的垃圾，腾出空间。
怎样 GC
GC的四种算法
引用计数
算法的思想很简单，既然我们说当一个对象A不再被引用时为垃圾对象，那就设置 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/post/a4a57cf4.html" title="Spring Boot响应式编程之响应式 Web 服务-WebClient">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式 Web 服务-WebClient"></a></div><div class="recent-post-info"><a class="article-title" href="/post/a4a57cf4.html" title="Spring Boot响应式编程之响应式 Web 服务-WebClient">Spring Boot响应式编程之响应式 Web 服务-WebClient</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-06T14:54:00.000Z" title="发表于 2021-10-06 14:54:00">2021-10-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">WebClient：如何实现非阻塞式的跨服务远程调用？
我们知道在 Spring 中存在一个功能强大的工具类 RestTemplate，专门用来实现基于 HTTP 协议的远程请求和响应处理。RestTemplate 的主要问题在于不支持响应式流规范，也就无法提供非阻塞式的流式操作。Spring 5 全面引入响应式编程模型，同时也提供了 RestTemplate 的响应式版本，这就是 WebClient 工具类。
首先我会带你创建和配置 WebClient对象；然后使用 WebClient 来访问远程 Web 服务，并介绍该组件的一些使用技巧；最后我依然会结合 ReactiveSpringCSS 案例来给出与现有服务之间的集成过程。
创建和配置 WebClient
WebClient 类位于 org.springframework.web.reactive.function.client 包中，要想在项目中集成 WebClient 类，只需要引入 WebFlux 依赖即可。
创建 WebClient
创建 WebClient 有两种方法，一种是通过它所提供的 create() 工厂方法， ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/post/670830f.html" title="Spring Boot响应式编程之响应式 Web 服务-WebFlux函数式开发">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式 Web 服务-WebFlux函数式开发"></a></div><div class="recent-post-info"><a class="article-title" href="/post/670830f.html" title="Spring Boot响应式编程之响应式 Web 服务-WebFlux函数式开发">Spring Boot响应式编程之响应式 Web 服务-WebFlux函数式开发</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-06T10:05:22.000Z" title="发表于 2021-10-06 10:05:22">2021-10-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">WebFlux（下）：如何使用函数式编程模型构建异步非阻塞服务？
我们引入了 Spring 框架中专门用于构建响应式 Web 服务的 WebFlux 框架，同时也给出了两种创建 RESTful 风格 HTTP 端点实现方法中的一种，即注解编程模型。今天将介绍另一种实现方法——如何使用函数式编程模型创建响应式 RESTful 服务，这种编程模型与传统的基于 Spring MVC 构建 RESTful 服务的方法有较大差别。
WebFlux 函数式编程模型
在引入函数式编程模型之前，先回顾一下 Spring WebFlux 的系统架构图，如下所示。

在上图的后半部分，你可以看到在 Spring WebFlux 中，函数式编程模型的核心概念是 Router Functions，对标 Spring MVC 中的 @Controller、@RequestMapping 等标准注解。而 Router Functions 则提供一套函数式风格的 API，其中最重要的就是 Router 和 Handler 接口。我们可以简单把 Router 对应成 RequestMapping，把 Controll ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/post/91e85e6d.html" title="Spring Boot响应式编程之响应式 Web 服务-WebFlux注解开发">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式 Web 服务-WebFlux注解开发"></a></div><div class="recent-post-info"><a class="article-title" href="/post/91e85e6d.html" title="Spring Boot响应式编程之响应式 Web 服务-WebFlux注解开发">Spring Boot响应式编程之响应式 Web 服务-WebFlux注解开发</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-06T10:05:22.000Z" title="发表于 2021-10-06 10:05:22">2021-10-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">WebFlux（上）：如何使用注解编程模式构建异步非阻塞服务？
作为一款新型的 Web 服务开发组件，WebFlux 一方面充分考虑了与原有 Spring MVC 在开发模式上的兼容性，开发人员仍然可以使用基于注解的编程方式来创建响应式 Web 服务；另一方面，WebFlux 也引入了基于函数式编程的全新开发模式。
引入 Spring WebFlux
如果你是第一次创建 WebFlux 应用，那么最简单的方法应该是使用 Spring 所提供的 Spring Initializer 初始化模板。直接访问 Spring Initializer 网站，选择创建一个 Maven 项目并指定相应的配置项，然后在添加的依赖中选择 Spring Reactive Web，我们就可以获取一个可运行的 WebFlux 模版项目了，如下所示。

我们进一步打开模板项目中的 pom 文件，会找到如下依赖。
12345678910111213141516&lt;dependencies&gt;    &lt;dependency&gt;      &lt;groupId&gt;org.springframew ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/post/f95c85af.html" title="Spring Boot响应式编程之响应式 Web 服务-框架升级">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之响应式 Web 服务-框架升级"></a></div><div class="recent-post-info"><a class="article-title" href="/post/f95c85af.html" title="Spring Boot响应式编程之响应式 Web 服务-框架升级">Spring Boot响应式编程之响应式 Web 服务-框架升级</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-05T14:58:24.000Z" title="发表于 2021-10-05 14:58:24">2021-10-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">框架升级：WebFlux 比 Web MVC 到底好在哪里？
围绕一个典型的多层架构，从每一层出发构建响应式应用程序。
首先关注的是 Web 服务层。在构建响应式 Web 服务上，Spring 5 中引入了全新的编程框架，那就是 Spring WebFlux。作为一款新型的 Web 服务开发框架，它与传统的 WebMVC 相比具体有哪些优势呢？
Spring WebFlux 的应用场景
WebFlux 用于构建响应式 Web 服务。在详细介绍 WebFlux 之前，我们先梳理一下这个新框架的应用场景，了解应用场景才能帮助我们对所要采用的技术体系做出正确的选择。
像 Reactor 这样的响应式库可以帮助我们构建一个异步的非阻塞流，并且为开发人员屏蔽了底层的技术复杂度。而基于 Reactor 框架的 WebFlux 进一步降低了开发响应式 Web 服务的难度。
微服务架构的兴起为 WebFlux 的应用提供了一个很好的场景。我们知道在一个微服务系统中，存在数十乃至数百个独立的微服务，它们相互通信以完成复杂的业务流程。这个过程势必会涉及大量的 I/O 操作，尤其是阻塞式 I/O 操作会整体 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/post/c9b76cd.html" title="Spring Boot响应式编程之编程框架-Reactor 操作符(下)">     <img class="post_bg" src="/images/posts/cover/springWebflux.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Boot响应式编程之编程框架-Reactor 操作符(下)"></a></div><div class="recent-post-info"><a class="article-title" href="/post/c9b76cd.html" title="Spring Boot响应式编程之编程框架-Reactor 操作符(下)">Spring Boot响应式编程之编程框架-Reactor 操作符(下)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-05T14:27:05.000Z" title="发表于 2021-10-05 14:27:05">2021-10-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Spring-Boot/">Spring Boot</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/Spring-Boot/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></span></div><div class="content">Reactor 操作符（下）：如何多样化裁剪响应式流？
条件操作符
所谓条件操作符，本质上就是提供了一个判断的依据来确定是否处理流中的元素。Reactor 中常用的条件操作符有 defaultIfEmpty、takeUntil、takeWhile、skipUntil 和 skipWhile 等，下面将分别介绍。
defaultIfEmpty 操作符
defaultIfEmpty 操作符针对空数据流提供了一个简单而有用的处理方法。该操作符用来返回来自原始数据流的元素，如果原始数据流中没有元素，则返回一个默认元素。
defaultIfEmpty 操作符在实际开发过程中应用广泛，通常用在对方法返回值的处理上。如下所示的就是在 Controller 层中对 Service 层返回结果的一种常见处理方法。
1234567@GetMapping(&quot;/orders/&#123;id&#125;&quot;)public Mono&lt;ResponseEntity&lt;Order&gt;&gt; findOrderById(@PathVariable String id) &#123;  ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/10/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/#content-inner">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/#content-inner">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/38/#content-inner">38</a><a class="extend next" rel="next" href="/page/12/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/images/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Leo Liu</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">371</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">83</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">46</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liule8"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/LIULE8" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:leo.liu.scau@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">这里是公告</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/cb0e657c.html" title="Spark实战之基础-算子"><img src="/images/posts/cover/spark.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark实战之基础-算子"/></a><div class="content"><a class="title" href="/post/cb0e657c.html" title="Spark实战之基础-算子">Spark实战之基础-算子</a><time datetime="2021-11-08T20:03:55.000Z" title="发表于 2021-11-08 20:03:55">2021-11-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/96089490.html" title="Spark实战之基础-Spark 核心数据结构"><img src="/images/posts/cover/spark.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark实战之基础-Spark 核心数据结构"/></a><div class="content"><a class="title" href="/post/96089490.html" title="Spark实战之基础-Spark 核心数据结构">Spark实战之基础-Spark 核心数据结构</a><time datetime="2021-11-08T19:46:51.000Z" title="发表于 2021-11-08 19:46:51">2021-11-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/28996b5b.html" title="Spark实战之基础-Spark 架构与运行环境"><img src="/images/posts/cover/spark.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark实战之基础-Spark 架构与运行环境"/></a><div class="content"><a class="title" href="/post/28996b5b.html" title="Spark实战之基础-Spark 架构与运行环境">Spark实战之基础-Spark 架构与运行环境</a><time datetime="2021-11-07T16:59:51.000Z" title="发表于 2021-11-07 16:59:51">2021-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/2a7649c3.html" title="Spark实战之基础-如何选择 Spark 编程语言以及部署 Spark"><img src="/images/posts/cover/spark.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark实战之基础-如何选择 Spark 编程语言以及部署 Spark"/></a><div class="content"><a class="title" href="/post/2a7649c3.html" title="Spark实战之基础-如何选择 Spark 编程语言以及部署 Spark">Spark实战之基础-如何选择 Spark 编程语言以及部署 Spark</a><time datetime="2021-11-07T16:59:51.000Z" title="发表于 2021-11-07 16:59:51">2021-11-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/99c2f5e4.html" title="Spark实战之基础-解析 Spark 数据处理与分析场景"><img src="/images/posts/cover/spark.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark实战之基础-解析 Spark 数据处理与分析场景"/></a><div class="content"><a class="title" href="/post/99c2f5e4.html" title="Spark实战之基础-解析 Spark 数据处理与分析场景">Spark实战之基础-解析 Spark 数据处理与分析场景</a><time datetime="2021-11-07T12:44:45.000Z" title="发表于 2021-11-07 12:44:45">2021-11-07</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JDK/"><span class="card-category-list-name">JDK</span><span class="card-category-list-count">4</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JDK/JDK8/"><span class="card-category-list-name">JDK8</span><span class="card-category-list-count">4</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">83</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="card-category-list-name">多线程</span><span class="card-category-list-count">81</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JavaScript/"><span class="card-category-list-name">JavaScript</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MQ/"><span class="card-category-list-name">MQ</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Spring/"><span class="card-category-list-name">Spring</span><span class="card-category-list-count">55</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Spring/Spring-Data/"><span class="card-category-list-name">Spring Data</span><span class="card-category-list-count">33</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Spring/" style="font-size: 1.41em; color: rgb(23, 152, 66)">Spring</a><a href="/tags/JPA/" style="font-size: 1.15em; color: rgb(103, 18, 29)">JPA</a><a href="/tags/Spring-Data/" style="font-size: 1.35em; color: rgb(166, 79, 169)">Spring Data</a><a href="/tags/Vue/" style="font-size: 1.17em; color: rgb(94, 143, 124)">Vue</a><a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" style="font-size: 1.15em; color: rgb(144, 43, 12)">面向对象设计原则</a><a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1.17em; color: rgb(50, 123, 118)">架构</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.27em; color: rgb(76, 185, 185)">算法</a><a href="/tags/UML/" style="font-size: 1.17em; color: rgb(68, 53, 108)">UML</a><a href="/tags/%E9%94%81/" style="font-size: 1.17em; color: rgb(162, 82, 29)">锁</a><a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 1.15em; color: rgb(136, 63, 157)">集合</a><a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 1.17em; color: rgb(126, 170, 10)">并发</a><a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 1.21em; color: rgb(151, 27, 149)">注解</a><a href="/tags/Spring-Data-Jpa/" style="font-size: 1.37em; color: rgb(51, 78, 166)">Spring Data Jpa</a><a href="/tags/JVM/" style="font-size: 1.23em; color: rgb(59, 183, 101)">JVM</a><a href="/tags/Java/" style="font-size: 1.45em; color: rgb(140, 196, 106)">Java</a><a href="/tags/CompletableFuture/" style="font-size: 1.15em; color: rgb(69, 155, 73)">CompletableFuture</a><a href="/tags/Future/" style="font-size: 1.15em; color: rgb(121, 49, 29)">Future</a><a href="/tags/JavaScript/" style="font-size: 1.15em; color: rgb(49, 154, 33)">JavaScript</a><a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 1.43em; color: rgb(65, 176, 3)">并发编程</a><a href="/tags/%E7%BA%BF%E7%A8%8B/" style="font-size: 1.43em; color: rgb(39, 19, 154)">线程</a><a href="/tags/MySQL/" style="font-size: 1.33em; color: rgb(164, 191, 32)">MySQL</a><a href="/tags/I-O%E6%A8%A1%E5%9E%8B/" style="font-size: 1.39em; color: rgb(55, 13, 68)">I\O模型</a><a href="/tags/Netty/" style="font-size: 1.39em; color: rgb(24, 157, 167)">Netty</a><a href="/tags/Socket%E7%BC%96%E7%A8%8B/" style="font-size: 1.39em; color: rgb(69, 149, 14)">Socket编程</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.17em; color: rgb(134, 135, 36)">数据库</a><a href="/tags/Oracle/" style="font-size: 1.17em; color: rgb(196, 84, 52)">Oracle</a><a href="/tags/SQL/" style="font-size: 1.17em; color: rgb(9, 7, 109)">SQL</a><a href="/tags/pageable/" style="font-size: 1.15em; color: rgb(110, 40, 30)">pageable</a><a href="/tags/RestTemplate/" style="font-size: 1.15em; color: rgb(78, 115, 165)">RestTemplate</a><a href="/tags/Spark/" style="font-size: 1.25em; color: rgb(138, 183, 8)">Spark</a><a href="/tags/String/" style="font-size: 1.31em; color: rgb(42, 122, 76)">String</a><a href="/tags/Springboot/" style="font-size: 1.19em; color: rgb(140, 182, 4)">Springboot</a><a href="/tags/Annotation/" style="font-size: 1.17em; color: rgb(54, 180, 33)">Annotation</a><a href="/tags/JpaSpecificationExecutor/" style="font-size: 1.19em; color: rgb(93, 81, 96)">JpaSpecificationExecutor</a><a href="/tags/%E4%B9%90%E8%A7%82%E9%94%81/" style="font-size: 1.15em; color: rgb(72, 96, 96)">乐观锁</a><a href="/tags/Spring-Security/" style="font-size: 1.29em; color: rgb(5, 165, 45)">Spring Security</a><a href="/tags/Transaction/" style="font-size: 1.15em; color: rgb(132, 161, 88)">Transaction</a><a href="/tags/redis/" style="font-size: 1.15em; color: rgb(57, 49, 86)">redis</a><a href="/tags/Join/" style="font-size: 1.15em; color: rgb(99, 14, 50)">Join</a><a href="/tags/Time/" style="font-size: 1.15em; color: rgb(7, 54, 150)">Time</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">105</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">106</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">27</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">21</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/04/"><span class="card-archive-list-date">四月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/02/"><span class="card-archive-list-date">二月 2021</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">371</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">1145.1k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-11-08T12:55:14.612Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Leo Liu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://api.btstu.cn/yan/api.php?charset=utf-8&encode=json')
    .then(response => response.json())
    .then(data => {
      if (true) {
        var sub = "".length == 0 ? new Array() : "".split(',')
        var both = sub.unshift(data.text)
        typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.text
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>